---
layout: default
---
<article class="post">
  <header class="post-header">
    <h1 class="post-title">{{ page.title | escape }}</h1>
    <p class="post-date">{{ page.date | date: "%B %d, %Y" }}</p>
    
    {% if page.categories %}
    <div class="post-categories">
      <strong>Categories:</strong> 
      {% for category in page.categories %}
      <span class="category">{{ category }}</span>
      {% endfor %}
    </div>
    {% endif %}
    
    {% if page.tags %}
    <div class="post-tags">
      <strong>Tags:</strong> 
      {% for tag in page.tags %}
      <span class="tag">{{ tag }}</span>
      {% endfor %}
    </div>
    {% endif %}
  </header>

  <div class="post-content">
    <!-- Remove the first heading that matches the title pattern -->
    {% assign lines = content | newline_to_br | split: '<br />' %}
    {% assign title_line_index = -1 %}
    {% for line in lines %}
      {% assign stripped_line = line | strip %}
      {% if stripped_line contains '# ' and title_line_index == -1 %}
        {% assign title_line_index = forloop.index0 %}
        {% break %}
      {% endif %}
    {% endfor %}
    
    {% if title_line_index != -1 %}
      {% for line in lines %}
        {% unless forloop.index0 == title_line_index %}
          {{ line }}
          {% unless forloop.last %}<br />{% endunless %}
        {% endunless %}
      {% endfor %}
    {% else %}
      {{ content }}
    {% endif %}
  </div>
</article>